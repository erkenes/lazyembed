!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var a={};t(a),e.lazyembed=a}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(e){this.setOptions(e),this.init()};t.prototype={defaults:{elements:"[data-lazyembed]",overlayText:"Click to load",overlayBackground:"rgba(0, 0, 0, .6)",overlayColor:"#fff",adoptResponsiveEmbed:!0,excludeElements:"a",classes:{root:"lazyembed",overlay:"lazyembed__overlay",text:"lazyembed__text",placeholder:"lazyembed__placeholder",embed:"lazyembed__embed"},onClick:function(){},onLoad:function(){},onInit:function(){}},setOptions:function(e){for(var t in this.options=e||{},this.defaults)this.options[t]||(this.options[t]=this.defaults[t])},init:function(){var r,c=this.options;r="string"==typeof c.elements?document.querySelectorAll(c.elements):c.elements;for(var m=0;m<r.length;m++)!function(){var e=r[m],t=e.parentElement,a=e.cloneNode(!0);a.className+=c.classes.embed;var s,l=document.createElement("div");l.className=c.classes.root,!c.adoptResponsiveEmbed||null===t.className.match(/(?:\s|^)embed-responsive(?:\s|$)/)&&null===a.className.match(/(?:\s|^)embed-responsive-item(?:\s|$)/)||(l.className+=" embed-responsive-item"),a.hasAttribute("data-placeholder")&&((s=document.createElement("div")).className=c.classes.placeholder,s.style.backgroundImage="url("+a.getAttribute("data-placeholder")+")");var n=document.createElement("div");n.className=c.classes.overlay,n.style.backgroundColor=c.overlayBackground,n.addEventListener("click",function(){n.style.display="none",s&&(s.style.display="none"),a.hasAttribute("data-src")&&(a.addEventListener("load",function(){c.onLoad(a)},!1),a.setAttribute("src",a.getAttribute("data-src"))),c.onClick(a)},!1);var o=document.createElement("div");o.className=c.classes.text,o.style.color=c.overlayColor,o.innerHTML=c.overlayText,n.appendChild(o);for(var d=n.querySelectorAll(c.excludeElements),i=0;i<d.length;i++)d[i].addEventListener("click",function(e){e.stopPropagation()},!1);l.appendChild(a),s&&l.appendChild(s),l.appendChild(n),e.parentNode.replaceChild(l,e),c.onInit(l)}()}},e.default=t});
//# sourceMappingURL=lazyembed.min.js.map
