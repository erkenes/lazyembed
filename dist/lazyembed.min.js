var _createClass=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var LazyEmbed=function(){var e={elements:"[data-lazyembed]",overlayText:"Click to load",adoptResponsiveEmbed:!0,excludeElements:"a",classes:{root:"lazyembed",overlay:"lazyembed__overlay",text:"lazyembed__text",placeholder:"lazyembed__placeholder",embed:"lazyembed__embed"},onClick:function(){},onLoad:function(){},onInit:function(){}},r=/(?:\s|^)embed-responsive(?:\s|$)/,c=/(?:\s|^)embed-responsive-item(?:\s|$)/,o=function e(t,o){for(var n in o)o.hasOwnProperty(n)&&("[object Object]"===Object.prototype.toString.call(o[n])?("[object Object]"!==Object.prototype.toString.call(t[n])&&(t[n]={}),e(t[n],o[n])):t[n]=o[n]);return t};return function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.setOptions(e),this.init()}return _createClass(t,null,[{key:"defaults",get:function(){return e}}]),_createClass(t,[{key:"setOptions",value:function(e){this.options={},o(this.options,t.defaults),o(this.options,e)}},{key:"init",value:function(){var i=this;("string"==typeof this.options.elements?document.querySelectorAll(this.options.elements):this.options.elements).forEach(function(e){var t=e.parentElement,o=e.cloneNode(!0);o.className+=i.options.classes.embed;var n=document.createElement("div");n.className=i.options.classes.root,!i.options.adoptResponsiveEmbed||null===t.className.match(r)&&null===o.className.match(c)||(n.className+=" embed-responsive-item");var a=void 0;o.hasAttribute("data-placeholder")&&((a=document.createElement("div")).className=i.options.classes.placeholder,a.style.backgroundImage="url("+o.getAttribute("data-placeholder")+")");var s=document.createElement("div");s.className=i.options.classes.overlay,void 0!==i.options.overlayBackground&&(s.style.background=i.options.overlayBackground),s.addEventListener("click",function(){s.style.display="none",a&&(a.style.display="none"),o.hasAttribute("data-src")&&(o.addEventListener("load",function(){i.options.onLoad(o)},!1),o.setAttribute("src",o.getAttribute("data-src"))),i.options.onClick(o)},!1);var l=document.createElement("div");l.className=i.options.classes.text,void 0!==i.options.overlayColor&&(l.style.color=i.options.overlayColor),l.innerHTML=i.options.overlayText,s.appendChild(l),s.querySelectorAll(i.options.excludeElements).forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation()},!1)}),n.appendChild(o),a&&n.appendChild(a),n.appendChild(s),e.parentNode.replaceChild(n,e),i.options.onInit(n)})}}]),t}()}();
//# sourceMappingURL=lazyembed.min.js.map
