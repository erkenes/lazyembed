var _createClass=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var LazyEmbed=function(){var e={elements:"[data-lazyembed]",overlayText:"Click to load",adoptResponsiveEmbed:!0,excludeElements:"a",classes:{root:"lazyembed",overlay:"lazyembed__overlay",text:"lazyembed__text",placeholder:"lazyembed__placeholder",embed:"lazyembed__embed"},onClick:function(){},onLoad:function(){},onInit:function(){}},d=/(?:\s|^)embed-responsive(?:\s|$)/,p=/(?:\s|^)embed-responsive-item(?:\s|$)/,o=function e(t,o){for(var n in o)o.hasOwnProperty(n)&&("[object Object]"===Object.prototype.toString.call(o[n])?("[object Object]"!==Object.prototype.toString.call(t[n])&&(t[n]={}),e(t[n],o[n])):t[n]=o[n]);return t};return function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.setOptions(e),this.init()}return _createClass(t,null,[{key:"defaults",get:function(){return e}}]),_createClass(t,[{key:"setOptions",value:function(e){this.options={},o(this.options,t.defaults),o(this.options,e)}},{key:"init",value:function(){var r=this,c=void 0;c="string"==typeof this.options.elements?document.querySelectorAll(this.options.elements):this.options.elements;for(var e=function(e){var t=c[e],o=t.parentElement,n=t.cloneNode(!0);n.className+=" "+r.options.classes.embed;var a=document.createElement("div");a.className=r.options.classes.root,!r.options.adoptResponsiveEmbed||null===o.className.match(d)&&null===n.className.match(p)||(a.className+=" embed-responsive-item");var s=void 0;n.hasAttribute("data-placeholder")&&((s=document.createElement("div")).className=r.options.classes.placeholder,s.style.backgroundImage="url("+n.getAttribute("data-placeholder")+")");var l=document.createElement("div");l.className=r.options.classes.overlay,void 0!==r.options.overlayBackground&&(l.style.background=r.options.overlayBackground),l.addEventListener("click",function(){l.style.display="none",s&&(s.style.display="none"),n.hasAttribute("data-src")&&(n.addEventListener("load",function(){r.options.onLoad(n)},!1),n.setAttribute("src",n.getAttribute("data-src"))),r.options.onClick(n)},!1);var i=document.createElement("div");i.className=r.options.classes.text,void 0!==r.options.overlayColor&&(i.style.color=r.options.overlayColor),i.innerHTML=r.options.overlayText,l.appendChild(i),l.querySelectorAll(r.options.excludeElements).forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation()},!1)}),a.appendChild(n),s&&a.appendChild(s),a.appendChild(l),t.parentNode.replaceChild(a,t),r.options.onInit(a)},t=0;t<c.length;t++)e(t)}}]),t}()}();
//# sourceMappingURL=lazyembed.min.js.map
